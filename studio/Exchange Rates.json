{"projectName":"Exchange Rates","settings":{"projectType":"json","projectDescription":"","currencySettings":[{"currencyCode":"USD","baseFormatFlag":"Yes","largeThousands":"1,234","largeMillions":"1,234,567","largeBillions":"1,234,567,891","negativeOptions":"minus","currencySymbol":"0"}],"corsAllowableDomains":[],"preferences":{"editorViewPreference":"MARKUP_MODE"}},"sampleOutput":"The value of the US Dollar hasn't moved much today. But it doesn't matter, have a nice...","activeApiKey":true,"data":[{"id":"Primary","type":"json","jsonData":{"currency":"USD","shortName":"Dollar","fullName":"US Dollar","averageChangePercentage":5,"comparisons":[{"today":1.1,"yesterday":1,"change":0.1,"currency":"GBP","shortName":"Pound","fullName":"British Pound"},{"today":12.3,"yesterday":12.25,"change":0.05,"currency":"JPY","shortName":"Yen","fullName":"Japanese Yen"},{"today":1.5,"yesterday":1.66,"change":-0.15,"currency":"EUR","shortName":"Euro","fullName":"Euro"}]}}],"templates":[{"id":"Main","value":"<p>[[if(WholeJSON.averageChangePercentage &gt; StableThreshold)<br>{[[GoodDay]]}&nbsp;</p><p>elseif(WholeJSON.averageChangePercentage &lt; -StableThreshold)<br>{[[BadDay]]}&nbsp;</p><p>else<br>{[[MediocreDay]]}]]</p>","postProcessors":[{"postProcessorId":"PP01","enabled":true}]},{"id":"GoodDay","value":"<p>Today has been good for the [[WholeJSON.fullName]], which has risen against [[len(NegativeCurrencies) == 0? \"all\" : \"most\"]] markets. It's up at [[map(PositiveCurrencies, x -&gt; ExchangeRateDescription(x) )]].[[if(len(NegativeCurrencies) &gt; 0){ However, it's down to [[map(NegativeCurrencies, x -&gt; ExchangeRateDescription(x) )]].}]][[if(len(UnchangedCurrencies) &gt; 0){It's still at [[map(UnchangedCurrencies, x -&gt; ExchangeRateDescription(x) )]]. }]]</p>"},{"id":"BadDay","value":"<p>Today has been a poor day for the [[WholeJSON.fullName]], which has fallen against [[len(PositiveCurrencies) == 0? \"all\" : \"most\"]] markets. It's down to [[map(NegativeCurrencies, x -&gt; ExchangeRateDescription(x) )]].[[if(len(PositiveCurrencies) &gt; 0){ However, it's up at [[map(PositiveCurrencies, x -&gt; ExchangeRateDescription(x) )]].}]][[if(len(UnchangedCurrencies) &gt; 0){It's still at [[map(UnchangedCurrencies, x -&gt; ExchangeRateDescription(x) )]]. }]]</p>"},{"id":"MediocreDay","value":"<p>The value of the [[WholeJSON.fullName]] hasn't moved much today. [[if(len(UnchangedCurrencies) &gt; 0){It's still at [[map(UnchangedCurrencies, x -&gt; ExchangeRateDescription(x) )]]. }]][[if(len(PositiveCurrencies) &gt; 0){However, it's slightly up at [[map(PositiveCurrencies, x -&gt; ExchangeRateDescription(x) )]]. }]][[if(len(NegativeCurrencies) &gt; 0){ It's down to [[map(NegativeCurrencies, x -&gt; ExchangeRateDescription(x) )]]. }]]&nbsp;</p>"},{"id":"ExchangeRateDescription","value":"<p>#define ExchangeRateDescription(currency) [[round(currency.today, 2)]] [[chooseAtRandom(\"on\",\"versus\",\"against\")]] the [[currency.shortName]]</p>"}],"lexRuleFiles":[],"mappings":[{"mappedName":"ComparisonStableThreshold","dataSource":"0.01","type":{"dataType":"NUMERIC"}},{"mappedName":"NegativeCurrencies","dataSource":"[[filter(WholeJSON.comparisons, x -&gt; x.change &lt; -ComparisonStableThreshold)]]","type":{"dataType":"LIST"}},{"mappedName":"PositiveCurrencies","dataSource":"[[filter(WholeJSON.comparisons, x -&gt; x.change &gt; ComparisonStableThreshold)]]","type":{"dataType":"LIST"}},{"mappedName":"StableThreshold","dataSource":"0.5","type":{"dataType":"NUMERIC"}},{"mappedName":"UnchangedCurrencies","dataSource":"[[filter(WholeJSON.comparisons, x -&gt; x.change &lt;= ComparisonStableThreshold &amp;&amp; x.change &gt;= -ComparisonStableThreshold)]]","type":{"dataType":"LIST"}},{"mappedName":"WholeJSON","dataSource":"","type":{"dataType":"JSON"}}],"version":240,"collaborators":[],"activeUser":{"userId":"d9e5a549-08db-4ceb-adae-7fda019512f3","username":"william.bradshaw@arria.com","firstName":"William","lastName":"Bradshaw"},"postProcessors":[{"type":"Grammar","id":"PP01","correctAandAn":true,"correctCapitalisation":true}]}